{"name": "test_visual_layout", "status": "broken", "statusDetails": {"message": "AttributeError: 'PageAssertions' object has no attribute 'to_have_screenshot'", "trace": "self = <tests.test_ui_layout.TestUILayout object at 0x0000021036EF1250>, page = <Page url='https://liner.dstepanyuk.dev.smte.am/auth/'>\nconfig = {'baseUrl': 'https://liner.dstepanyuk.dev.smte.am/auth/', 'browser': 'chrome', 'credentials': {'invalid_user': {'email... 'wrong_password'}, 'valid_user': {'email': 'dstepanyuk@southmedia.io', 'password': 'Fb4-uXM-uCx-3Gi'}}, 'timeout': 10}\n\n    @allure.story(\"Visual layout of filters and table on calls preset page\")\n    @allure.severity(allure.severity_level.NORMAL)\n    def test_visual_layout(self, page: Page, config):\n        # Переходим на страницу с пресетом напрямую\n        preset_url = \"https://liner.dstepanyuk.dev.smte.am/calls/?daterange=17.02.2025%20-%2003.03.2025&period=default&lead_id=&type=all&direction=all&predictive=all&isset_call=&total_call_time=all&client_call_time=all&call_record=all&call_recognition=all&call-hangups=all&rating=all&preset-name=Новый%20пресет%E2%80%8B\"\n        page.goto(preset_url)\n    \n        # Ждем, пока страница полностью загрузится (можно уточнить селектор, если нужно)\n        page.wait_for_load_state(\"networkidle\")\n    \n        # Делаем скриншот текущей страницы с фильтром и таблицей\n        screenshot_path = os.path.join(\"screenshots\", \"actual\", \"filters_table.png\")\n        os.makedirs(os.path.dirname(screenshot_path), exist_ok=True)\n        page.screenshot(path=screenshot_path)\n    \n        # Путь к эталонному скриншоту\n        baseline_path = os.path.join(\"screenshots\", \"baseline\", \"filters_table.png\")\n    \n        # Проверяем, существует ли эталонный скриншот\n        if not os.path.exists(baseline_path):\n            pytest.fail(f\"Эталонный скриншот {baseline_path} не найден. Создай его вручную.\")\n    \n        # Сравниваем скриншоты с помощью Playwright\n>       expect(page).to_have_screenshot(name=\"filters_table.png\", threshold=0.1)  # Устанавливаем порог различий (0.1 = 10%)\nE       AttributeError: 'PageAssertions' object has no attribute 'to_have_screenshot'\n\ntests\\test_ui_layout.py:34: AttributeError"}, "start": 1741078431793, "stop": 1741078433635, "uuid": "e3f6e02e-781b-41d5-89e8-881eaa22d5d7", "historyId": "b992ca3a7291b9a8666fb3b6c4ce2e1c", "testCaseId": "b992ca3a7291b9a8666fb3b6c4ce2e1c", "fullName": "tests.test_ui_layout.TestUILayout#test_visual_layout", "labels": [{"name": "story", "value": "Visual layout of filters and table on calls preset page"}, {"name": "severity", "value": "normal"}, {"name": "feature", "value": "UI Layout Testing"}, {"name": "tag", "value": "visual"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_ui_layout"}, {"name": "subSuite", "value": "TestUILayout"}, {"name": "host", "value": "DESKTOP-US86AEC"}, {"name": "thread", "value": "22148-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_ui_layout"}]}